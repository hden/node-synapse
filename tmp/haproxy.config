global
  maxconn 256
  # Exposes the stat socket so we can manage the proxy through node.js
  stats socket /Users/Ken/Documents/development/node-synapse/tmp/haproxy.sock level admin

defaults
    mode http
    timeout connect 5000ms
    timeout client 50000ms
    timeout server 50000ms
    retries 3
    option redispatch

listen stats
    bind *:9999
    mode http
    stats enable
    stats uri /
    stats refresh 2s

listen http-in
    bind *:8080
    balance roundrobin
    option http-server-close
listen http-innn0
    bind *:8080
    balance roundrobin
    option http-server-close
listen http-innn1
    bind *:8080
    balance roundrobin
    option http-server-close
listen http-innn2
    bind *:8080
    balance roundrobin
    option http-server-close
listen http-innn3
    bind *:8080
    balance roundrobin
    option http-server-close
listen http-innn4
    bind *:8080
    balance roundrobin
    option http-server-close
listen http-innn5
    bind *:8080
    balance roundrobin
    option http-server-close
listen http-innn6
    bind *:8080
    balance roundrobin
    option http-server-close
